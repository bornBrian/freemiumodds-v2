# ğŸ—ï¸ SYSTEM ARCHITECTURE

**FreemiumOdds V2 - Complete Technical Architecture**

---

## ğŸ“ High-Level Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         USER DEVICES                            â”‚
â”‚              ğŸ“± Mobile    ğŸ’» Desktop    ğŸ“Ÿ Tablet               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â”‚ HTTPS
                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      VERCEL EDGE CDN                            â”‚
â”‚                   (Global Distribution)                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                        â”‚
         â–¼                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  STATIC ASSETS   â”‚    â”‚   API ROUTES     â”‚
â”‚                  â”‚    â”‚                  â”‚
â”‚  React Frontend  â”‚    â”‚  Express Backend â”‚
â”‚  (Vite Build)    â”‚    â”‚  (Serverless)    â”‚
â”‚                  â”‚    â”‚                  â”‚
â”‚  - HTML/CSS/JS   â”‚    â”‚  - /api/matches  â”‚
â”‚  - Tailwind UI   â”‚    â”‚  - /api/schedule â”‚
â”‚  - Components    â”‚    â”‚  - /api/health   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                                  â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚             â”‚             â”‚
                    â–¼             â–¼             â–¼
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚  SUPABASE    â”‚ â”‚ TheOdds  â”‚ â”‚   Oddslot    â”‚
          â”‚  PostgreSQL  â”‚ â”‚   API    â”‚ â”‚   (Tips)     â”‚
          â”‚              â”‚ â”‚          â”‚ â”‚              â”‚
          â”‚  - matches   â”‚ â”‚ - 1X2    â”‚ â”‚ - Confidence â”‚
          â”‚  - tips      â”‚ â”‚ - Odds   â”‚ â”‚ - 84%+ Tips  â”‚
          â”‚  - logs      â”‚ â”‚          â”‚ â”‚              â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ Data Flow

### **1. Daily Match Fetch (Automated)**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 02:00 UTC Daily (GitHub Actions / Vercel Cron)              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼
        POST /api/scheduler/fetch-daily
                    â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                       â”‚
        â–¼                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  TheOddsAPI  â”‚      â”‚  Oddslot         â”‚
â”‚              â”‚      â”‚  (if available)  â”‚
â”‚  Fetch 1X2   â”‚      â”‚  Fetch Tips      â”‚
â”‚  Odds Data   â”‚      â”‚  (Confidence)    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                       â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  Odds Converter      â”‚
        â”‚                      â”‚
        â”‚  Remove Margin       â”‚
        â”‚  Calculate DC Odds   â”‚
        â”‚  - 1X (Home/Draw)    â”‚
        â”‚  - X2 (Draw/Away)    â”‚
        â”‚  - 12 (Home/Away)    â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  Supabase Database   â”‚
        â”‚                      â”‚
        â”‚  INSERT/UPDATE       â”‚
        â”‚  matches table       â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### **2. User Request Flow**

```
User visits homepage
        â”‚
        â–¼
GET /api/matches?date=2026-01-29
        â”‚
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Express API        â”‚
â”‚                     â”‚
â”‚  1. Validate date   â”‚
â”‚  2. Query Supabase  â”‚
â”‚  3. Format response â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
    Supabase Query:
    SELECT * FROM matches
    WHERE DATE(kickoff) = '2026-01-29'
    ORDER BY kickoff ASC
           â”‚
           â–¼
    JSON Response:
    {
      "matches": [...],
      "count": 8
    }
           â”‚
           â–¼
    React Frontend:
    - Map matches to cards
    - Display odds
    - Show confidence
```

---

## ğŸ—„ï¸ Database Schema

```sql
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         MATCHES                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (UUID)      â”‚ provider_match_id  â”‚ home (VARCHAR)       â”‚
â”‚ away (VARCHAR) â”‚ league (VARCHAR)   â”‚ kickoff (TIMESTAMP)  â”‚
â”‚ status (ENUM)  â”‚ confidence (INT)   â”‚ tip (VARCHAR)        â”‚
â”‚ double_chance  â”‚ bookmaker (VARCHAR)â”‚ final_score (VARCHAR)â”‚
â”‚ (JSONB)        â”‚ result (VARCHAR)   â”‚ created_at           â”‚
â”‚                â”‚                    â”‚ updated_at           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â”‚ FOREIGN KEY
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      ODDSLOT_TIPS                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (UUID)      â”‚ match_id (FK)      â”‚ confidence (INT)     â”‚
â”‚ tip_type       â”‚ tip_detail (TEXT)  â”‚ source (VARCHAR)     â”‚
â”‚ created_at     â”‚                    â”‚                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       AUDIT_LOGS                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (UUID)      â”‚ event (VARCHAR)    â”‚ payload (JSONB)      â”‚
â”‚ status (ENUM)  â”‚ error_message      â”‚ created_at           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”Œ API Endpoints Architecture

```
/api/
â”‚
â”œâ”€â”€ health
â”‚   â””â”€â”€ GET - Health check
â”‚       Returns: { status: 'ok', timestamp: '...' }
â”‚
â”œâ”€â”€ matches
â”‚   â”œâ”€â”€ GET /?date=YYYY-MM-DD
â”‚   â”‚   â””â”€â”€ List matches for date
â”‚   â”‚       Returns: { matches: [...], count: N }
â”‚   â”‚
â”‚   â””â”€â”€ GET /:id
â”‚       â””â”€â”€ Get single match
â”‚           Returns: { id, home, away, ... }
â”‚
â””â”€â”€ scheduler
    â”œâ”€â”€ POST /fetch-daily
    â”‚   â””â”€â”€ Trigger daily match fetch
    â”‚       Process: Fetch â†’ Convert â†’ Save
    â”‚       Returns: { matchesProcessed: N }
    â”‚
    â””â”€â”€ POST /update-statuses
        â””â”€â”€ Update match results
            Process: Check scores â†’ Update status
            Returns: { updated: N }
```

---

## ğŸ§® Odds Conversion Pipeline

```
INPUT: 1X2 Odds from Bookmaker
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Home:  2.10                â”‚
â”‚ Draw:  3.40                â”‚
â”‚ Away:  3.60                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â–¼
STEP 1: Convert to Implied Probabilities
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ P(Home) = 1 / 2.10 = 0.476 â”‚
â”‚ P(Draw) = 1 / 3.40 = 0.294 â”‚
â”‚ P(Away) = 1 / 3.60 = 0.278 â”‚
â”‚ Sum = 1.048 (4.8% margin)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â–¼
STEP 2: Remove Bookmaker Margin
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Fair P(Home) = 0.454       â”‚
â”‚ Fair P(Draw) = 0.281       â”‚
â”‚ Fair P(Away) = 0.265       â”‚
â”‚ Sum = 1.000 âœ“              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â–¼
STEP 3: Combine Probabilities
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1X = P(Home) + P(Draw)     â”‚
â”‚    = 0.454 + 0.281 = 0.735 â”‚
â”‚                            â”‚
â”‚ X2 = P(Draw) + P(Away)     â”‚
â”‚    = 0.281 + 0.265 = 0.546 â”‚
â”‚                            â”‚
â”‚ 12 = P(Home) + P(Away)     â”‚
â”‚    = 0.454 + 0.265 = 0.719 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â–¼
STEP 4: Convert to Decimal Odds
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1X = 1 / 0.735 = 1.36      â”‚
â”‚ X2 = 1 / 0.546 = 1.83      â”‚
â”‚ 12 = 1 / 0.719 = 1.39      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â–¼
OUTPUT: Fair Double Chance Odds
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ {                          â”‚
â”‚   "1X": 1.36,             â”‚
â”‚   "X2": 1.83,             â”‚
â”‚   "12": 1.39              â”‚
â”‚ }                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ” Security Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              SECURITY LAYERS                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                   â”‚
â”‚  Layer 1: Vercel Edge (DDoS Protection)         â”‚
â”‚           â†“                                       â”‚
â”‚  Layer 2: HTTPS/TLS (Encryption)                 â”‚
â”‚           â†“                                       â”‚
â”‚  Layer 3: CORS (Origin Control)                  â”‚
â”‚           â†“                                       â”‚
â”‚  Layer 4: Input Validation (Sanitization)        â”‚
â”‚           â†“                                       â”‚
â”‚  Layer 5: Supabase RLS (Row Level Security)      â”‚
â”‚           â†“                                       â”‚
â”‚  Layer 6: Env Variables (Secret Management)      â”‚
â”‚                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Environment Variables (Never in Code):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ SUPABASE_URL     = https://xxx.supabase â”‚
â”‚ SUPABASE_KEY     = eyJhbGc...           â”‚
â”‚ ODDS_API_KEY     = secret_key           â”‚
â”‚ NODE_ENV         = production           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## âš¡ Performance Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          PERFORMANCE OPTIMIZATIONS               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                  â”‚
â”‚  Frontend:                                       â”‚
â”‚  âœ“ Code Splitting (Vite)                        â”‚
â”‚  âœ“ Lazy Loading (React.lazy)                    â”‚
â”‚  âœ“ Tree Shaking (ES Modules)                    â”‚
â”‚  âœ“ Minification (Production Build)              â”‚
â”‚  âœ“ Compression (Gzip/Brotli)                    â”‚
â”‚                                                  â”‚
â”‚  Backend:                                        â”‚
â”‚  âœ“ Database Indexing (kickoff, status)          â”‚
â”‚  âœ“ Query Optimization (SELECT specific fields)  â”‚
â”‚  âœ“ Connection Pooling (Supabase)                â”‚
â”‚  âœ“ Serverless Scaling (Auto)                    â”‚
â”‚                                                  â”‚
â”‚  Caching:                                        â”‚
â”‚  âœ“ Edge Caching (Vercel CDN)                    â”‚
â”‚  âœ“ Browser Caching (Cache-Control headers)      â”‚
â”‚  âœ“ API Response Caching (In-memory)             â”‚
â”‚                                                  â”‚
â”‚  Result: <100ms initial load                     â”‚
â”‚          <50ms subsequent loads                  â”‚
â”‚                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š Monitoring & Logging

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            MONITORING STACK                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                   â”‚
â”‚  Vercel:                                         â”‚
â”‚  â€¢ Deployment logs                               â”‚
â”‚  â€¢ Function execution logs                       â”‚
â”‚  â€¢ Performance metrics                           â”‚
â”‚  â€¢ Error tracking                                â”‚
â”‚                                                   â”‚
â”‚  Supabase:                                       â”‚
â”‚  â€¢ Query performance                             â”‚
â”‚  â€¢ Database size                                 â”‚
â”‚  â€¢ Connection stats                              â”‚
â”‚  â€¢ API usage                                     â”‚
â”‚                                                   â”‚
â”‚  TheOddsAPI:                                     â”‚
â”‚  â€¢ Request count (500/month limit)               â”‚
â”‚  â€¢ Response times                                â”‚
â”‚  â€¢ Error rates                                   â”‚
â”‚                                                   â”‚
â”‚  Custom Logs (audit_logs table):                â”‚
â”‚  â€¢ Match fetch events                            â”‚
â”‚  â€¢ Conversion errors                             â”‚
â”‚  â€¢ API failures                                  â”‚
â”‚                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ Deployment Pipeline

```
Developer Machine
      â”‚
      â”‚ git add . && git commit
      â”‚ git push origin main
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   GitHub     â”‚
â”‚  Repository  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ Webhook trigger
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      Vercel Platform         â”‚
â”‚                              â”‚
â”‚  1. Detect changes           â”‚
â”‚  2. Install dependencies     â”‚
â”‚  3. Build frontend (Vite)    â”‚
â”‚  4. Deploy to edge network   â”‚
â”‚  5. Update serverless funcs  â”‚
â”‚  6. Invalidate cache         â”‚
â”‚  7. Run health checks        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
     Live at:
     https://your-app.vercel.app
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Global Edge Network        â”‚
â”‚   (100+ locations)           â”‚
â”‚                              â”‚
â”‚   â€¢ US East                  â”‚
â”‚   â€¢ US West                  â”‚
â”‚   â€¢ Europe                   â”‚
â”‚   â€¢ Asia Pacific             â”‚
â”‚   â€¢ etc.                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ’° Cost Architecture (FREE)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            COST BREAKDOWN                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                 â”‚
â”‚  Vercel (Free Tier):                           â”‚
â”‚  âœ“ 100GB bandwidth/month                       â”‚
â”‚  âœ“ 100GB-hours serverless execution            â”‚
â”‚  âœ“ Unlimited deployments                       â”‚
â”‚  âœ“ Automatic HTTPS                             â”‚
â”‚  Cost: $0/month                                â”‚
â”‚                                                 â”‚
â”‚  Supabase (Free Tier):                         â”‚
â”‚  âœ“ 500MB database storage                      â”‚
â”‚  âœ“ 2GB bandwidth/month                         â”‚
â”‚  âœ“ Unlimited API requests                      â”‚
â”‚  âœ“ Automatic backups                           â”‚
â”‚  Cost: $0/month                                â”‚
â”‚                                                 â”‚
â”‚  TheOddsAPI (Free Tier):                       â”‚
â”‚  âœ“ 500 requests/month                          â”‚
â”‚  âœ“ Real-time odds                              â”‚
â”‚  âœ“ Multiple sports                             â”‚
â”‚  Cost: $0/month                                â”‚
â”‚                                                 â”‚
â”‚  GitHub Actions (Free Tier):                   â”‚
â”‚  âœ“ 2000 minutes/month                          â”‚
â”‚  âœ“ Scheduled workflows                         â”‚
â”‚  Cost: $0/month                                â”‚
â”‚                                                 â”‚
â”‚  TOTAL: $0/month                               â”‚
â”‚         100% FREE! ğŸ‰                          â”‚
â”‚                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸš€ Scalability Architecture

```
Current State (Free Tier):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Handles:                            â”‚
â”‚  â€¢ 200,000 page views/month         â”‚
â”‚  â€¢ ~6,700 views/day                 â”‚
â”‚  â€¢ ~280 views/hour                  â”‚
â”‚  â€¢ Plenty for starting!             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

If Growth Needed:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Upgrade Path:                       â”‚
â”‚                                      â”‚
â”‚  1. Vercel Pro ($20/mo)             â”‚
â”‚     â†’ 1TB bandwidth                 â”‚
â”‚     â†’ 1000GB-hours functions        â”‚
â”‚                                      â”‚
â”‚  2. Supabase Pro ($25/mo)           â”‚
â”‚     â†’ 8GB database                  â”‚
â”‚     â†’ 50GB bandwidth                â”‚
â”‚     â†’ Automatic scaling             â”‚
â”‚                                      â”‚
â”‚  3. TheOddsAPI ($99/mo)             â”‚
â”‚     â†’ 10,000 requests/month         â”‚
â”‚     â†’ Priority support              â”‚
â”‚                                      â”‚
â”‚  4. Add Redis ($10/mo)              â”‚
â”‚     â†’ Advanced caching              â”‚
â”‚     â†’ Rate limiting                 â”‚
â”‚                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

**This architecture supports:**
- âœ… 100% free hosting
- âœ… Global distribution
- âœ… Auto-scaling
- âœ… High availability
- âœ… Real-time updates
- âœ… Secure by design

---
